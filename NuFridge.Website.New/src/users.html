<template>
    <require from="./date-format"></require>
    <require from="breadcrumb"></require>
    <breadcrumb currentpage="Users"></breadcrumb>
    <div class="ui segment">
        <table class="ui celled selectable table">
            <thead>
            <tr>
                <th>Username</th>
                <th>Email Address</th>
                <th>Active</th>
                <th>Last Updated</th>
            </tr>
            </thead>
            <tbody>
            <tr repeat.for="user of accountData.Users" style="cursor: pointer;" click.trigger="$parent.userClick(user)">
                <td>${user.Username}</td>
                <td>${user.EmailAddress}</td>
                <td><i class="${user.IsActive ? 'check' : 'remove'} circle icon"></i></td>
                <td>${user.LastUpdated | dateFormat}</td>
            </tr>
            </tbody>
        </table>

        <div class="ui pagination small menu" if.bind="totalPages.length > 1">
            <a class="icon item ${pageNumber == 1 ? 'disabled' : ''}" click.trigger="previousPageClick()">
                <i class="left chevron icon"></i>
            </a>
            <a class="item ${$index + 1 === $parent.pageNumber ? 'active' : ''}" repeat.for="page of totalPages" click.trigger="$parent.goToPageClick($index + 1)">
                ${$index + 1}
            </a>
            <a class="icon item ${pageNumber == totalPages.length ? 'disabled' : ''}" click.trigger="nextPageClick()">
                <i class="right chevron icon"></i>
            </a>
        </div>
    </div>
</template>