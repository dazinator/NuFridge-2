<template>
    <h1>Add Feed</h1>
    <div class="ui segment">
        <div class="ui warning message" if.bind="!hasRequiredClaims">
            <div class="header">
                You are not authorized to create feeds.
            </div>
            Contact your System Administrator to request this permission.
        </div>
        <div if.bind="hasRequiredClaims">
            <form class="ui form segment">
                <h2 class="ui header">
                    General Settings
                    <div class="sub header">Manage your general feed settings.</div>
                </h2>
                <div class="ui inverted dimmer ${isCreatingFeed ? 'active' : ''}">
                    <div class="ui indeterminate large text loader">Creating Feed</div>
                </div>
                <div class="ui segment">
                    <div class="field">
                        <label>Feed Name</label>
                        <p>
                            The feed name is used to generate the feed URL. Changing it will break any applications that access this
                            feed.
                        </p>
                        <input type="text" name="feedname" value.bind="feed.Name">
                    </div>
                </div>

                <h2 class="ui header">
                    Security Settings
                    <div class="sub header">Manage your security settings for accessing this feed.</div>
                </h2>

                <div class="ui segment">
                    <div class="field">
                        <label>API Key</label>
                        <p>When using an API Key you will need to provide it when pushing packages to the feed.</p>
                        <div class="ui input">
                            <input type="text" value="apikey" class="apiKeyTextBox" value.bind="feed.ApiKey">
                        </div>
                    </div>
                </div>
            </form>
            <div class="ui buttons">
                <button class="ui button">Cancel</button>
                <div class="or"></div>
                <button class="ui positive button" click.trigger="insertFeed()">Create</button>
            </div>
        </div>
    </div>
</template>