<template>
    <require from="breadcrumb"></require>
    <breadcrumb currentpage="Feeds"></breadcrumb>
    <div class="ui segment">
        <div class="ui warning message" if.bind="!canViewPage">
            <div class="header">
                You are not authorized to view feeds.
            </div>
            Contact your System Administrator to request this permission.
        </div>
        <div if.bind="canViewPage">
            <div class="two column ui grid">
                <div class="column">
                    <div class="ui fluid category search feedSearch">
                        <div class="ui icon input" style="width: 100%;">
                            <input class="prompt" type="text" placeholder="Search feeds...">
                            <i class="search icon"></i>
                        </div>
                        <div class="results"></div>
                    </div>
                </div>
                <div class="column">
                </div>
            </div>

            <div class="ui divided items">
                <div class="item" repeat.for="group of feedGroups">
                    <div class="content">
                        <a class="header" href="#/feedgroup/view/${group.Id}" if.bind="$parent.canUpdateFeedGroup">${group.Name}</a>
                        <div class="header" if.bind="!$parent.canUpdateFeedGroup">${group.Name}</div>
                        <div class="description">
                            <p>
                            </p>
                        </div>
                        <div class="extra">
                            <a class="ui label" href="#feeds/view/${feed.Id}" repeat.for="feed of group.Feeds">${feed.Name}</a>
                            <a class="ui blue label" href="#/feeds/create/${group.Id}" if.bind="$parent.canInsertFeed">Add Feed</a>
                        </div>
                    </div>
                </div>
            </div>

            <a class="ui blue large label" href="#/feedgroup/create" if.bind="canInsertFeedGroup">Add Feed Group</a>
        </div>
    </div>
</template>