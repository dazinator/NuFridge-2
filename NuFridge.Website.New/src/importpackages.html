<template>
    <h1>${job.Name}</h1>

    <div class="ui segment" if.bind="showForm">
        <form class="ui form">
            <div class="field">
                <label>Feed URL</label>
                <p>
                    The feed URL to import packages from. Example: <a target="_blank" href="https://www.nuget.org/api/v2">https://www.nuget.org/api/v2</a>
                </p>
                <input type="text" name="feedUrl" value.bind="options.FeedUrl">
            </div>
            <div class="field">
                <div class="inline field">
                    <div class="ui toggle checkbox includePrerelease">
                        <input type="checkbox" checked.bind="options.IncludePrerelease">
                        <label style="font-size: .9285em; font-weight: 700;">Include pre-release packages</label>
                    </div>
                </div>
            </div>
            <div class="field">
                <div class="inline field">
                    <div class="ui toggle checkbox checkLocalCache">
                        <input type="checkbox" checked.bind="options.CheckLocalCache">
                        <label style="font-size: .9285em; font-weight: 700;">Include local packages</label>
                    </div>
                </div>
            </div>

            <p>Only listed packages will be imported.</p>
            <div class="ui buttons">
                <button class="ui positive button" click.trigger="startImport()">Import Packages</button>
            </div>
        </form>
    </div>




    <div class="ui pointing secondary menu importMenu" show.bind="showProgress">
        <a class="item active" data-tab="first">Overview</a>
    </div>


    <div show.bind="showProgress">
        <div data-tab="first" class="ui bottom tab segment active">
            <div class="ui indicating progress ${job.CreatedAt && !job.CompletedAt && job.Success === false ? 'active' : ''}" id="importProgressBar">
                <div class="bar" style="transition-duration: 300ms;">
                    <div class="progress">0%</div>
                </div>
                <div class="label"></div>
            </div>

            <div>
                <h2 class="ui header">
                    Administrative Actions
                </h2>

                    <button class="ui positive button" click.trigger="downloadReport()">Download Report</button> 
                    <button class="ui negative button" click.trigger="cancelImport()" if.bind="job.CreatedAt && !job.CompletedAt && job.Success === false">Cancel Import</button>

            </div>
        </div>
    </div>
</template>