<template>
    <require from='notifications' as="notification-message"></require>
    <require from="breadcrumb"></require>
    <breadcrumb currentpage="${user.Username}"></breadcrumb>
    <div class="ui segment">
        <notification-message notificationvisible="${shownotification}" notificationtext="${notificationmessage}" notificationtype="${notificationtype}"></notification-message>
        <div class="ui inverted dimmer ${isUpdatingUser ? 'active' : ''}">
            <div class="ui indeterminate large text loader">Saving user</div>
        </div>
        <form class="ui form">
            <h2 class="ui header">
                Profile
            </h2>
            <div class="ui segment">
                <div class="field">
                    <label>Username</label>
                    <input type="text" name="username" value.bind="user.Username" readonly="readonly" style="opacity: 0.7;">
                </div>

                <div class="field">
                    <label>Display Name</label>
                    <input type="text" name="displayname" value.bind="user.DisplayName" readonly.bind="!canUpdateUsers">
                </div>
                <div class="field">
                    <label>Email Address</label>
                    <input type="text" name="email" value.bind="user.EmailAddress" readonly.bind="!canUpdateUsers">
                </div>
            </div>
            <h2 class="ui header">
                Security
            </h2>
            <div class="ui segment">
                <div class="field">
                    <div class="ui toggle checkbox activeUserCheckbox">
                        <input type="checkbox" checked.bind="user.IsActive">
                        <label style="font-size: .9285em; font-weight: 700;">Active</label>
                    </div>
                </div>
            </div>
        </form>


        <div style="padding-top: 15px;">
            <div class="ui buttons" if.bind="canUpdateUsers">
                <button class="ui button">Cancel</button>
                <div class="or"></div>
                <button class="ui positive button" click.trigger="updateUser()">Save</button>
            </div>
            </div>
        </div>
</template>